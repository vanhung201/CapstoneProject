@using BusinessConnectManagement.Models;

@{
    BCMEntities db = new BCMEntities();
    var query = db.VanLangUsers.Where(x => x.Email == User.Identity.Name).FirstOrDefault();

    string Role = query.Role;
    string FullName = "";
    string ControllerName = "";
    string Area = "";

    if (Role == "Admin")
    {
        ControllerName = "AdminHome";
        Area = "Admin";
    }
    else if (Role == "Mentor")
    {
        ControllerName = "MentorHome";
        Area = "Mentor";
    }
    else if (Role == "Faculty")
    {
        ControllerName = "FacultyHome";
        Area = "Faculty";
    }


    if (string.IsNullOrEmpty(query.FullName))
    {
        FullName = User.Identity.Name;
    }
    else
    {
        FullName = query.FullName;
    }
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewBag.Title</title>
    <link rel="stylesheet"
          href="https://site-assets.fontawesome.com/releases/v5.15.4/css/all.css" />
    @*<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">*@
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="~/assets/css/jquery2.dataTables.min.css" rel="stylesheet" />

    <link href="~/assets/css/grid.css" rel="stylesheet" />
    <link href="~/assets/css/reset.css" rel="stylesheet" />
    <link href="~/assets/css/global.css" rel="stylesheet" />
    <link href="~/assets/css/select.css" rel="stylesheet" />
    <link href="~/assets/css/toast.css" rel="stylesheet" />
    <link href="~/assets/css/layout.css" rel="stylesheet" />
    <link href="~/assets/css/style.css" rel="stylesheet" />
    <link href="~/assets/css/form.css" rel="stylesheet" />

    <link href="~/Content/bootstrap-chosen.css" rel="stylesheet" />
    <link rel="shortcut icon" href="~/assets/images/favicon.ico" type="image/x-icon">
    <style>
        .field-validation-error {
            color: red;
        }
    </style>
</head>

<body>

    <div class="wrap" id="wrap">
        <section class="menu">
            <div class="menu-logo">
                <a href="@Url.Action("Index", "AdminHome", new { area = "Admin" })" class="menu-link">
                    <img src="~/assets/images/logoVL.png"
                         alt=""
                         class="menu-image" />
                    <span class="menu-title">Business Connection Management</span>
                </a>
                <i class="fal fa-long-arrow-right" id="menu-icon"></i>
            </div>
            <ul class="menu-list">
                
                <li class="menu-item">
                    <a href="@Url.Action("Index", "InternshipResultsMentor", new { area = "Mentor" })" class="menu-feature">
                        <i class="menu-icon fal fa-id-card"></i>
                        <span class="menu-text">Sinh Viên Hướng Dẫn</span>
                    </a>
                    <span class="menu-tooltip">Sinh Viên Hướng Dẫn</span>
                </li>

            </ul>

        </section>
        <div class="content">
            <nav class="nav">
                <div class="nav-wrap">
                    <span class="nav-role">@FullName</span>
                    <div class="nav-avatar">
                        <img src="~/assets/images/avatarAdmin.png"
                             alt=""
                             class="nav-image" />
                        <div class="nav-account-list">
                            <a href="@Url.Action("SignOut", "Account", new { area = "" })" class="nav-account-item">Đăng xuất</a>
                        </div>
                    </div>
                </div>
            </nav>

            @RenderBody()


        </div>
    </div>
    <div id="icon">
        <i class="fal fa-bars"></i>
    </div>
    <div id="moveTop">
        <a href="#wrap" class="moveTop-link"><i class="fal fa-arrow-up"></i><a>
    </div>
</body>

<script src="~/assets/js/index.js"></script>
<script src="~/assets/js/admin.js"></script>
<script src="~/Scripts/jquery-3.4.1.js"></script>
<script src="~/Scripts/jquery.validate.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script src="~/Scripts/chosen.jquery.js"></script>
<script src="~/assets/js/datatable/dataTable.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<script>

    $(function () {
        $("#table_id_filter").append($("#filterEvent")).clone();
    });

    let formAdd = document.getElementById("addForm");
    let formUpdate = document.getElementById("updateForm");
    let formDelete = document.getElementById("deleteForm");
    let icon = document.querySelector(".form-icon");
    let isHide = "is-hide";
    let isAppear = "is-appear";

    $(".btn--create").on("click", function () {
        formAdd.classList.add(isAppear);
    });

    $(".form-icon").on("click", function () {
        formDelete.classList.remove(isAppear);
    });

    $(".form-icon").on("click", function () {
        formUpdate.classList.remove(isAppear);
    });

    $(".form-icon").on("click", function () {
        formAdd.classList.remove(isAppear);
    });

    $(function () {
        $("#ddlBussines_ID").chosen();

        $(".chosen-select").chosen();
    });
    /* $(function () {
         const toast = document.querySelector(".toast");
         setTimeout(() => {
             toast.remove();
         }, 3000);

     })*/
    function remove() {
        let toast = document.querySelector(".toast");
        document.querySelector(".toast-right").addEventListener("click", () => {
            toast.remove();
        });

    }
</script>
@RenderSection("scripts", required: false)

</html>